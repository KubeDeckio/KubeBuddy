--- Kubernetes Cluster Report ---
Timestamp: 03/19/2025 12:54:18
---------------------------------

[ğŸŒ Cluster Summary]

Cluster Name: aks-0402-dev-uks
Kubernetes Version: v1.30.9
Kubernetes control plane is running at https://aks-0402-dev-uks-okv6e22w.hcp.uksouth.azmk8s.io:443
CoreDNS is running at https://aks-0402-dev-uks-okv6e22w.hcp.uksouth.azmk8s.io:443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
Metrics-server is running at https://aks-0402-dev-uks-okv6e22w.hcp.uksouth.azmk8s.io:443/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy

To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.

Compatibility Check: âš ï¸  Cluster is running an outdated version: v1.30.9 (Latest: v1.32.3)

Metrics: 
ğŸ“Š Cluster Metrics Summary
------------------------------------------------------------------------------------------
ğŸš€ Nodes:                   5   ğŸŸ© Healthy:              5   ğŸŸ¥ Issues:                  0
ğŸ“¦ Pods:                   80   ğŸŸ© Running:             77   ğŸŸ¥ Failed:                  0
ğŸ”„ Restarts:                2   ğŸŸ¨ Warnings:             0   ğŸŸ¥ Critical:                0
â³ Pending Pods:            0   ğŸŸ¡ Waiting:              0   
âš ï¸ Stuck Pods:              0   âŒ Stuck:                0     
ğŸ“‰ Job Failures:            0   ğŸ”´ Failed:               0   
------------------------------------------------------------------------------------------

ğŸ“Š Pod Distribution: Avg: 16 | Max: 24 | Min: 6 | Total Nodes: 5


ğŸ’¾ Resource Usage
------------------------------------------------------------------------------------------
ğŸ–¥  CPU Usage:           10.76%        ğŸŸ© Normal
ğŸ’¾ Memory Usage:          4.1%        ğŸŸ© Normal
------------------------------------------------------------------------------------------

âŒ Errors: 0   âš ï¸ Warnings: 0

[ğŸŒ Node Conditions]

âš ï¸ Total Not Ready Nodes in the Cluster: 0
-----------------------------------------------------------

Node                                 Status    Issues
----                                 ------    ------
aks-systempool-19995743-vmss00000c   âœ… Healthy None
aks-systempool-19995743-vmss00000d   âœ… Healthy None
aks-systempool-19995743-vmss00000e   âœ… Healthy None
aks-workloadpool-10479701-vmss000004 âœ… Healthy None
akswinnp000001                       âœ… Healthy None



[ğŸ“Š Node Resource Usage]

âš ï¸ Total Resource Warnings Across All Nodes: 2
--------------------------------------------------------------------------

Node                                 CPU Status CPU % CPU Used CPU Total Mem Status Mem %  Mem Used Mem Total Disk % Disk Status
----                                 ---------- ----- -------- --------- ---------- -----  -------- --------- ------ -----------
aks-systempool-19995743-vmss00000c   âœ… Normal   8%    152 mC   1900 mC   ğŸŸ¡ Warning 53.02% 3464 Mi  6533 Mi   53%    âœ… Normal
aks-systempool-19995743-vmss00000d   âœ… Normal   7.26% 138 mC   1900 mC   ğŸŸ¡ Warning 53.71% 3509 Mi  6533 Mi   53%    âœ… Normal
aks-systempool-19995743-vmss00000e   âœ… Normal   7.05% 134 mC   1900 mC   âœ… Normal   46.72% 3052 Mi  6533 Mi   46%    âœ… Normal
aks-workloadpool-10479701-vmss000004 âœ… Normal   2.75% 106 mC   3860 mC   âœ… Normal   12.11% 1766 Mi  14584 Mi  12%    âœ… Normal
akswinnp000001                       âœ… Normal   0.42% 8 mC     1900 mC   âœ… Normal   29.74% 1634 Mi  5494 Mi   29%    âœ… Normal



[ğŸ“‚ Empty Namespaces]

âš ï¸ Total Empty Namespaces: 3
---------------------------------
default
kube-node-lease
kube-public

[ğŸ”„ DaemonSets Not Fully Running]

âœ… All DaemonSets are fully running.

[ğŸ” Pods with High Restarts]

âœ… No pods with excessive restarts detected.

[â³ Long Running Pods]

âœ… No long-running pods detected.

[ğŸ”´ Failed Pods]

âœ… No failed pods found.

[â³ Pending Pods]

âœ… No pending pods found.

[ğŸ”´ CrashLoopBackOff Pods]

âœ… No CrashLoopBackOff pods found.

[ğŸ Leftover Debug Pods]

âœ… No leftover debug pods detected.

[â³ Stuck Kubernetes Jobs]

âœ… No jobs found in the cluster.

[ğŸ”´ Failed Kubernetes Jobs]

âœ… No jobs found in the cluster.

[ğŸ” Services Without Endpoints]

âš ï¸ Total Services Without Endpoints: 1

Namespace   Service               Type      Status
---------   -------               ----      ------
kube-system network-observability ClusterIP âš ï¸ No Endpoints



[ğŸ’¾ Unused Persistent Volume Claims]

âœ… No unused PVCs found.

[RBAC Misconfigurations]

âš ï¸ Total RBAC Misconfigurations Detected: 9

Namespace       Type              RoleBinding                                    Subject                                 Issue
---------       ----              -----------                                    -------                                 -----
kube-system     ğŸ”¹ Namespace Role system::leader-locking-kube-controller-manager ServiceAccount/kube-controller-manager  âŒ ServiceAccount does not exist
kube-system     ğŸ”¹ Namespace Role system::leader-locking-kube-scheduler          ServiceAccount/kube-scheduler           âŒ ServiceAccount does not exist
kube-system     ğŸ”¹ Namespace Role system:controller:cloud-provider               ServiceAccount/cloud-provider           âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   secretproviderrotation-rolebinding             ServiceAccount/secrets-store-csi-driver âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   system:azure-cloud-provider                    ServiceAccount/azure-cloud-provider     âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   system:azure-cloud-provider-secret-getter      ServiceAccount/azure-cloud-provider     âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   system:controller:route-controller             ServiceAccount/route-controller         âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   system:controller:service-controller           ServiceAccount/service-controller       âŒ ServiceAccount does not exist
ğŸŒ Cluster-Wide ğŸ”¸ Cluster Role   system:kube-dns                                ServiceAccount/kube-dns                 âŒ ServiceAccount does not exist



[ğŸ“œ Orphaned ConfigMaps]

âš ï¸ Total Orphaned ConfigMaps Found: 12

Namespace         Type         Name
---------         ----         ----
default           ğŸ“œ ConfigMap kube-root-ca.crt
gatekeeper-system ğŸ“œ ConfigMap kube-root-ca.crt
kube-node-lease   ğŸ“œ ConfigMap kube-root-ca.crt
kube-public       ğŸ“œ ConfigMap kube-root-ca.crt
kube-system       ğŸ“œ ConfigMap azure-ip-masq-agent-config-reconciled
kube-system       ğŸ“œ ConfigMap cluster-autoscaler-status
kube-system       ğŸ“œ ConfigMap container-azm-ms-aks-k8scluster
kube-system       ğŸ“œ ConfigMap coredns-autoscaler
kube-system       ğŸ“œ ConfigMap extension-apiserver-authentication
kube-system       ğŸ“œ ConfigMap kube-apiserver-legacy-service-account-token-tracking
kube-system       ğŸ“œ ConfigMap kube-root-ca.crt
kube-system       ğŸ“œ ConfigMap overlay-upgrade-data



[ğŸ”‘ Orphaned Secrets]

âš ï¸ Total Orphaned Secrets Found: 3

Namespace   Type      Name
---------   ----      ----
kube-system ğŸ”‘ Secret aad-msi-auth-token
kube-system ğŸ”‘ Secret azure-policy-webhook-cert
kube-system ğŸ”‘ Secret omsagent-aad-msi-token



[ğŸ“¢ Kubernetes Warnings]

âš ï¸ Warnings: 0
-----------------------------------------------------------


[âœ… AKS Best Practices Check]

[Best Practices] Allowed Container Images Policy Enforcement - Status: âŒ FAIL
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: The 'Only Allowed Images' policy is either missing or not enforcing deny mode, increasing the risk of running untrusted images.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/azure-policy

[Best Practices] No Privileged Containers Policy Enforcement - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: No Privileged Containers Policy Enforcement is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/azure-policy

[Best Practices] Multiple Node Pools - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Multiple Node Pools is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/use-multiple-node-pools

[Best Practices] Azure Linux as Host OS - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Azure Linux as Host OS is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/use-azure-linux

[Best Practices] Ephemeral OS Disks Enabled - Status: âŒ FAIL
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: One or more agent pools are not using ephemeral OS disks, leading to slower disk performance and increased costs.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/ephemeral-os-disks

[Best Practices] Non-Ephemeral Disks with Adequate Size - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Non-Ephemeral Disks with Adequate Size is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/availability-zone-support

[Best Practices] System Node Pool Taint - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: System Node Pool Taint is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/use-system-node-pools

[Best Practices] Auto Upgrade Channel Configured - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Auto Upgrade Channel Configured is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/auto-upgrade

[Best Practices] Node OS Upgrade Channel Configured - Status: âŒ FAIL
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Node OS upgrade channel is not configured, which may leave your node OS outdated and vulnerable.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/auto-upgrade

[Best Practices] Customized MC_ Resource Group Name - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Customized MC_ Resource Group Name is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/concepts-clusters-resource-group

[Disaster Recovery] Agent Pools with Availability Zones - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Agent Pools with Availability Zones is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/availability-zones

[Disaster Recovery] Control Plane SLA - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Control Plane SLA is enabled.
   ğŸ”¹ More Info: https://azure.microsoft.com/en-us/pricing/details/kubernetes-service/

[Identity & Access] RBAC Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: RBAC Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/rbac

[Identity & Access] Managed Identity - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Managed Identity is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/use-managed-identity

[Identity & Access] Workload Identity Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Workload Identity Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/workload-identity-overview

[Identity & Access] Managed Identity Used - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Managed Identity Used is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/use-managed-identity

[Identity & Access] AAD RBAC Authorization Integrated - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: AAD RBAC Authorization Integrated is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/aad-integration

[Identity & Access] AAD Managed Authentication Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: AAD Managed Authentication Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/aad-integration

[Identity & Access] Local Accounts Disabled - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Local Accounts Disabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/disable-local-accounts

[Monitoring & Logging] Azure Monitor - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Azure Monitor is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/azure-monitor/containers/container-insights-overview

[Monitoring & Logging] Managed Prometheus Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Managed Prometheus Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/azure-monitor/containers/prometheus-metrics

[Networking] Authorized IP Ranges - Status: âŒ FAIL
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: No authorized IP ranges configured. This allows unrestricted access to the API server.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/operator-best-practices-cluster-security#secure-access-to-the-api-server-and-cluster-nodes

[Networking] Network Policy Check - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Network Policy Check is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/best-practices-network#implement-network-policies

[Networking] Web App Routing Enabled - Status: âŒ FAIL
   ğŸ”¹ Severity: Low
   ğŸ”¹ Recommendation: Web App Routing is not enabled, which may limit external access management.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/web-app-routing

[Networking] Azure CNI Networking Recommended - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Azure CNI Networking Recommended is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/concepts-network#networking-options

[Resource Management] Cluster Autoscaler - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Cluster Autoscaler is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/cluster-autoscaler

[Resource Management] AKS Built-in Cost Tooling Enabled - Status: âŒ FAIL
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: AKS built-in cost tooling (Open Costs) is not enabled, making cost allocation and optimization harder.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/cost-management

[Security] Private Cluster - Status: âŒ FAIL
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Cluster API server is publicly accessible, increasing security risks.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/private-clusters

[Security] Azure Policy Add-on - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Azure Policy Add-on is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/policy-reference

[Security] Defender for Containers - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Defender for Containers is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-containers-introduction

[Security] OIDC Issuer Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: OIDC Issuer Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/oidc-issuer

[Security] Azure Key Vault Integration - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Azure Key Vault Integration is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/csi-secrets-store-driver

[Security] Image Cleaner Enabled - Status: âœ… PASS
   ğŸ”¹ Severity: Medium
   ğŸ”¹ Recommendation: Image Cleaner Enabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/image-cleaner

[Security] Kubernetes Dashboard Disabled - Status: âœ… PASS
   ğŸ”¹ Severity: High
   ğŸ”¹ Recommendation: Kubernetes Dashboard Disabled is enabled.
   ğŸ”¹ More Info: https://learn.microsoft.com/en-us/azure/aks/kubernetes-dashboard


Summary & Rating:           
Passed       Failed       Total        Score (%)    Rating  
============================================================
âœ… 27         âŒ 7          34           79.41        
C
