{% extends "main.html" %}

{% block tabs %}
  {{ super() }}

  <style>
    :root {
      /* Light mode variables */
      --md-primary-fg-color: #6200ea;
      --md-primary-bg-color: #ffffff;
      --md-accent-fg-color: #03dac6;
      --md-default-fg-color: #212121;
      --md-default-bg-color: #ffffff;
      --md-card-bg-color: #ffffff;
      --md-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
      --md-callout-bg: #f5f5f5;
      --md-workflow-bg-start: #fafafa;
      --md-workflow-bg-end: #ffffff;
      --md-text-secondary: #757575;
      --md-code-bg: #212121;
      --md-code-fg: #ffffff;
    }

    /* Dark mode variables */
    @media (prefers-color-scheme: dark) {
      :root {
        --md-primary-fg-color: #bb86fc;
        --md-primary-bg-color: #121212;
        --md-accent-fg-color: #03dac6;
        --md-default-fg-color: #e0e0e0;
        --md-default-bg-color: #1e1e1e;
        --md-card-bg-color: #2c2c2c;
        --md-shadow: 0 3px 6px rgba(0, 0, 0, 0.5), 0 3px 6px rgba(0, 0, 0, 0.7);
        --md-callout-bg: #2c2c2c;
        --md-workflow-bg-start: #2c2c2c;
        --md-workflow-bg-end: #1e1e1e;
        --md-text-secondary: #b0b0b0;
        --md-code-bg: #121212;
        --md-code-fg: #e0e0e0;
      }
    }

    .md-header {
      position: initial;
      background: var(--md-primary-fg-color);
    }

    .md-main__inner {
      margin: 0;
      padding: 0;
    }

    .hero-wrap {
      background: linear-gradient(135deg, #0d1117, #161b22);
      color: #fff;
      padding: 7rem 2rem 5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-wrap::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      opacity: 0.5;
    }

    .hero-wrap h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .hero-wrap p {
      font-size: 1.5rem;
      max-width: 600px;
      margin: 0 auto 2.5rem;
      line-height: 1.6;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      background: var(--md-accent-fg-color);
      color: #fff;
      padding: 0.875rem 2rem;
      border-radius: 28px;
      font-size: 1.125rem;
      font-weight: 500;
      text-decoration: none;
      box-shadow: var(--md-shadow);
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .section {
      padding: 4rem 2rem;
      background: var(--md-default-bg-color);
      color: var(--md-default-fg-color);
    }

    .section h2 {
      font-size: 2.25rem;
      font-weight: 600;
      margin-bottom: 2rem;
      text-align: center;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .feature-card {
      background: var(--md-card-bg-color);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: var(--md-shadow);
      transition: transform 0.3s, box-shadow 0.3s;
      text-align: center;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 7px 20px rgba(0, 0, 0, 0.2);
    }

    .feature-card h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin: 0.5rem 0;
      color: var(--md-primary-fg-color);
    }

    .feature-card p {
      font-size: 1rem;
      color: var(--md-text-secondary);
      line-height: 1.5;
    }

    .callout {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      background: var(--md-callout-bg);
      border-left: 8px solid var(--md-accent-fg-color);
      padding: 1.5rem;
      border-radius: 12px;
      margin: 3rem auto;
      max-width: 800px;
      box-shadow: var(--md-shadow);
    }

    .callout-icon {
      font-size: 2rem;
      color: var(--md-accent-fg-color);
    }

    .callout-text h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin: 0 0 0.5rem;
      color: var(--md-default-fg-color);
    }

    .callout-text p {
      color: var(--md-text-secondary);
    }

    .workflow-section {
      background: linear-gradient(to bottom, var(--md-workflow-bg-start), var(--md-workflow-bg-end));
      padding: 5rem 2rem;
      color: var(--md-default-fg-color);
    }

    .workflow-steps {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      max-width: 1200px;
      margin: 2rem auto;
      justify-content: center;
    }

    .workflow-step {
      flex: 1 1 280px;
      background: var(--md-card-bg-color);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: var(--md-shadow);
      text-align: center;
      position: relative;
      transition: transform 0.3s;
    }

    .workflow-step:hover {
      transform: translateY(-5px);
    }

    .workflow-step::before {
      content: attr(data-step);
      position: absolute;
      top: -1.5rem;
      left: 50%;
      transform: translateX(-50%);
      background: var(--md-primary-fg-color);
      color: #fff;
      width: 3rem;
      height: 3rem;
      line-height: 3rem;
      border-radius: 50%;
      font-weight: 600;
      font-size: 1.25rem;
    }

    .workflow-step h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--md-primary-fg-color);
      margin: 1rem 0 0.5rem;
    }

    .workflow-step p {
      font-size: 1rem;
      color: var(--md-text-secondary);
      line-height: 1.6;
    }

    .workflow-step .step-icon {
      font-size: 2.5rem;
      color: var(--md-accent-fg-color);
    }

    @media screen and (max-width: 768px) {
      .hero-wrap h1 {
        font-size: 2.5rem;
      }

      .hero-wrap p {
        font-size: 1.25rem;
      }

      .section,
      .workflow-section {
        padding: 2rem 1rem;
      }

      .feature-grid,
      .workflow-steps {
        grid-template-columns: 1fr;
      }

      .workflow-step {
        flex: 1 1 100%;
      }
    }
  </style>

  <section class="hero-wrap">
    <h1>Kubernetes says your cluster is healthy. It‚Äôs probably not.</h1>
    <p>KubeBuddy runs outside your cluster to catch critical issues that dashboards and <code>kubectl</code> miss.</p>
    <a href="{{ 'usage/' | url }}" class="cta-button">Get Started</a>
  </section>
{% endblock %}

{% block content %}
<div class="md-grid md-typeset">
  <section class="section">
    <h2>Why KubeBuddy?</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <span class="callout-icon">üîç</span>
        <h3>Comprehensive Diagnostics</h3>
        <p>Detects node failures, pod crashes, security risks, and networking issues with one command.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üöÄ</span>
        <h3>No Cluster Intrusion</h3>
        <p>Runs externally via your terminal or Docker, requiring no agents or Helm charts.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üìä</span>
        <h3>Actionable Reports</h3>
        <p>Export detailed HTML, JSON, or CLI summaries for quick insights and sharing.</p>
      </div>
    </div>
  </section>

  <div class="callout">
    <span class="callout-icon">üß≠</span>
    <div class="callout-text">
      <h3>Fast. Portable. Secure.</h3>
      <p>KubeBuddy delivers cluster health checks without touching your cluster. Perfect for SREs, DevOps, and operators.</p>
    </div>
  </div>

  <section class="section">
    <h2>What KubeBuddy Checks</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>Node & Pod Health</h3>
        <p>Identifies failed nodes, pending pods, and crash loops.</p>
      </div>
      <div class="feature-card">
        <h3>Security Risks</h3>
        <p>Scans for risky roles, excessive bindings, and exposed permissions.</p>
      </div>
      <div class="feature-card">
        <h3>Networking & Storage</h3>
        <p>Checks PVCs, services, policies, and reachability issues.</p>
      </div>
      <div class="feature-card">
        <h3>AKS Best Practices</h3>
        <p>Runs Microsoft-guided checks with a single flag.</p>
      </div>
    </div>
  </section>

  <section class="workflow-section">
    <h2>How KubeBuddy Works</h2>
    <div class="workflow-steps">
      <div class="workflow-step" data-step="1">
        <span class="step-icon">‚öôÔ∏è</span>
        <h3>Connect & Scan</h3>
        <p>KubeBuddy uses your existing kubeconfig to scan your cluster externally, no agents required.</p>
      </div>
      <div class="workflow-step" data-step="2">
        <span class="step-icon">üîé</span>
        <h3>Analyze Issues</h3>
        <p>Detects hidden problems like misconfigurations, security risks, and resource failures in seconds.</p>
      </div>
      <div class="workflow-step" data-step="3">
        <span class="step-icon">üìà</span>
        <h3>Deliver Insights</h3>
        <p>Generates clear, actionable reports in HTML, JSON, or CLI format for immediate action.</p>
      </div>
    </div>
    <div style="text-align: center; margin-top: 2rem;">
      <a href="{{ 'usage/' | url }}" class="cta-button">Explore Usage</a>
    </div>
  </section>
</div>
{% endblock %}