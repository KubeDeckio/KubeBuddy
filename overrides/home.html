{% extends "main.html" %}

{% block tabs %}
  {{ super() }}

  <style>
    /* Ensure global box-sizing to prevent padding/margin issues */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    /* Key Metrics Bar */
    .metrics-bar {
      display: flex;
      justify-content: center;
      gap: 2rem;
      background: var(--md-card-bg-color);
      padding: 1rem 2rem;
      width: 100vw;
      margin-left: calc(50% - 50vw);
      margin-right: calc(50% - 50vw);
      box-shadow: var(--md-shadow);
    }
    .metric {
      text-align: center;
    }
    .metric h4 {
      margin: 0;
      font-size: 1.5rem;
      color: var(--md-primary-fg-color);
    }
    .metric p {
      margin: 0;
      color: var(--md-text-secondary);
    }

    /* Feature grid subtle pattern */
    .feature-grid {
      background-image: url('{{ "images/pattern.svg" | url }}');
      background-repeat: no-repeat;
      background-position: center;
      opacity: 0.05;
    }

    /* Who It's For persona grid */
    .persona-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    .persona-card {
      background: var(--md-card-bg-color);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: var(--md-shadow);
      text-align: center;
    }
    .persona-card h3 {
      margin-top: 1rem;
      font-size: 1.25rem;
      color: var(--md-primary-fg-color);
    }
    .persona-card p {
      color: var(--md-text-secondary);
      line-height: 1.4;
    }

    /* Footer Resources */
    .site-footer {
      background: var(--md-card-bg-color);
      padding: 2rem;
      text-align: center;
      margin-top: 4rem;
      box-shadow: var(--md-shadow);
    }
    .site-footer a {
      margin: 0 1rem;
      color: var(--md-primary-fg-color);
      text-decoration: none;
      font-weight: 600;
    }

    /* Existing hero, checks-bg, workflow styles‚Ä¶ (keep above) */
  </style>

  <section class="hero-wrap">
    <div class="hero-content">
      <h1>Kubernetes says your cluster is healthy. It‚Äôs probably not.</h1>
    </div>
  </section>

  <!-- Key Metrics Bar -->
  <div class="metrics-bar">
    <div class="metric">
      <h4>90+</h4>
      <p>Checks</p>
    </div>
    <div class="metric">
      <h4>Realtime</h4>
      <p>Scanning</p>
    </div>
    <div class="metric">
      <h4>No</h4>
      <p>Agents</p>
    </div>
    <div class="metric">
      <h4>v0.0.20</h4>
      <p>Latest Release</p>
    </div>
  </div>
{% endblock %}

{% block content %}
<div class="md-grid md-typeset">
  <section class="section">
    <h2>Why KubeBuddy?</h2>
    <div class="feature-grid">
      <div class="feature-card">
        <span class="callout-icon">üîç</span>
        <h3>Comprehensive Diagnostics</h3>
        <p>Detects node failures, pod crashes, security risks, and networking issues with one command.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üöÄ</span>
        <h3>No Cluster Intrusion</h3>
        <p>Runs externally via your terminal or Docker, requiring no agents or Helm charts.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üìä</span>
        <h3>Actionable Reports</h3>
        <p>Export detailed HTML, JSON, or CLI summaries for quick insights and sharing.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üõ°Ô∏è</span>
        <h3>Clean Execution</h3>
        <p>KubeBuddy runs entirely outside your cluster. No agents, no config drift, no exposure.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">üß™</span>
        <h3>Stateless by Design</h3>
        <p>Scans don't persist anything. No runtime footprint, no security baggage.</p>
      </div>
      <div class="feature-card">
        <span class="callout-icon">‚ö°</span>
        <h3>Runs Anywhere</h3>
        <p>Use it locally, in CI/CD, or on a jump host ‚Äî wherever you work.</p>
      </div>
    </div>
  </section>

  <!-- Who It's For -->
  <section class="section">
    <h2>Who Uses KubeBuddy?</h2>
    <div class="persona-grid">
      <div class="persona-card">
        <span class="callout-icon">üë©‚Äçüíª</span>
        <h3>DevOps Engineers</h3>
        <p>Catch misconfigurations before they hit production.</p>
      </div>
      <div class="persona-card">
        <span class="callout-icon">üèóÔ∏è</span>
        <h3>Platform Architects</h3>
        <p>Ensure consistent best practices across clusters.</p>
      </div>
      <div class="persona-card">
        <span class="callout-icon">üõ°Ô∏è</span>
        <h3>SRE Teams</h3>
        <p>Monitor reliability and prevent incidents proactively.</p>
      </div>
    </div>
  </section>

  <section class="section checks-bg">
    <h2>What KubeBuddy Checks <span style="color: var(--md-primary-fg-color);">(90+ and growing!)</span></h2>
    <div class="feature-grid">
      <div class="feature-card">
        <h3>Node & Pod Health</h3>
        <p>Identifies failed nodes, pending pods, and crash loops.</p>
      </div>
      <div class="feature-card">
        <h3>Security Risks</h3>
        <p>Scans for risky roles, excessive bindings, and exposed permissions.</p>
      </div>
      <div class="feature-card">
        <h3>Networking & Storage</h3>
        <p>Checks PVCs, services, policies, and reachability issues.</p>
      </div>
      <div class="feature-card">
        <h3>AKS Best Practices</h3>
        <p>Runs Microsoft-guided checks with a single flag.</p>
      </div>
      <div class="feature-card">
        <h3>Cluster Config</h3>
        <p>Checks context, kubeconfig, versions, and misaligned settings.</p>
      </div>
      <div class="feature-card">
        <h3>Resource Limits</h3>
        <p>Flags containers missing CPU or memory limits. Prevent noisy neighbors.</p>
      </div>
    </div>
  </section>

  <section class="workflow-section">
    <h2>How KubeBuddy Works</h2>
    <div class="workflow-steps">
      <div class="workflow-step" data-step="1">
        <span class="step-icon">‚öôÔ∏è</span>
        <h3>Connect & Scan</h3>
        <p>KubeBuddy uses your existing kubeconfig to scan your cluster externally, no agents required.</p>
      </div>
      <div class="workflow-step" data-step="2">
        \<span class="step-icon">üîé</span>
        <h3>Analyze Issues</h3>
        <p>Detects hidden problems like misconfigurations, security risks, and resource failures in seconds.</p>
      </div>
      <div class="workflow-step" data-step="3">
        <span class="step-icon">üìà</span>
        <h3>Deliver Insights</h3>
        <p>Generates clear, actionable reports in HTML, JSON, or CLI format for immediate action.</p>
      </div>
    </div>
    <div class="workflow-cta">
      <a href="{{ 'usage/' | url }}" class="cta-button">Get Started</a>
    </div>
  </section>

  <!-- Footer Resources -->
  <footer class="site-footer">
    <a href="{{ 'usage/' | url }}">Documentation</a>
    <a href="https://github.com/KubeDeckio/KubeBuddy">GitHub</a>
    <a href="{{ 'changelog/' | url }}">Changelog</a>
    <a href="{{ 'community/' | url }}">Community</a>
  </footer>
</div>
{% endblock %}
